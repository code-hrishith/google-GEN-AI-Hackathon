<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clinician Dashboard - ManoHEAL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Reset & Base Styles */
      .logo {
        width: 50px;
        height: 50px;
        object-fit: cover;
        border-radius: 50%;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      body {
        font-family: 'Inter', Arial, sans-serif;
        background: linear-gradient(135deg, #fff0e1 0%, #ffe5d9 100%);
        color: #202048;
        line-height: 1.6;
      }
      .font-poppins {
        font-family: 'Poppins', sans-serif;
      }
      .tab-active {
        border-bottom-color: #e69299;
        color: #202048;
        font-weight: 600;
      }
      .tab-inactive {
        border-bottom-color: transparent;
        color: #7975a5;
      }
      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-in-out;
      }
      .accordion-open .accordion-content {
        max-height: 1000px; /* Adjust as needed */
      }
      .accordion-open .accordion-arrow {
        transform: rotate(180deg);
      }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'primary-text': '#202048',
              'soft-black': '#050416',
              'secondary-text': '#7975a5',
              'highlight-purple': '#574669',
              'highlight-violet': '#34387c',
              'accent-rose': '#e69299',
              'accent-pink': '#e5a4a9',
              'accent-mauve': '#805c6c',
              'ui-steel-blue': '#3c4c6c',
              'peach-bg-start': '#fff0e1',
              'peach-bg-end': '#ffe5d9',
            },
          },
        },
      };
    </script>
  </head>
  <body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
      <!-- Header -->
      <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-16">
        <div class="flex items-center space-x-3">
          <img src="circular_logo.png" alt="मनोHEAL logo" class="logo">
          <h1 class="text-3xl font-bold font-poppins text-primary-text"> मनोHeal For Counselors - Independent</h1>
        </div>
        <div class="flex items-center space-x-4 mt-4 md:mt-0">
           <a href="/logout" class="py-2 px-6 rounded-lg bg-accent-rose text-white font-semibold hover:bg-accent-pink transition-colors shadow-md">Logout</a>
        </div>
      </header>

      <!-- Stats Cards -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="bg-white/70 backdrop-blur-lg p-6 rounded-xl border border-white/30 shadow-sm">
          <p class="text-sm text-secondary-text">Total Revenue</p>
          <p class="text-3xl font-bold text-primary-text mt-1">₹10000</p>
          <p class="text-sm text-green-500 mt-1">+15.2% from last month</p>
        </div>
        <div class="bg-white/70 backdrop-blur-lg p-6 rounded-xl border border-white/30 shadow-sm">
          <p class="text-sm text-secondary-text">New Patients</p>
          <p class="text-3xl font-bold text-primary-text mt-1">+12</p>
          <p class="text-sm text-secondary-text mt-1">This month</p>
        </div>
        <div class="bg-white/70 backdrop-blur-lg p-6 rounded-xl border border-white/30 shadow-sm">
          <p class="text-sm text-secondary-text">Appointments</p>
          <p class="text-3xl font-bold text-primary-text mt-1">23</p>
          <p class="text-sm text-secondary-text mt-1">7 upcoming</p>
        </div>
      </div>

      <!-- Main Content -->
      <div class="bg-white/70 backdrop-blur-lg p-6 md:p-8 rounded-xl border border-white/30 shadow-lg">
        <!-- Tabs -->
        <div class="border-b border-rose-200/50 mb-6">
          <nav class="flex space-x-8" aria-label="Tabs">
            <button id="tab-appointments" class="py-3 px-1 border-b-2 text-sm font-medium tab-inactive">Upcoming Appointments</button>
            <button id="tab-reports" class="py-3 px-1 border-b-2 text-sm font-medium tab-active">Patient Reports</button>
          </nav>
        </div>

        <!-- Patient Reports Section -->
        <div id="content-reports">
          <h2 class="text-2xl font-bold text-highlight-purple mb-2">Patient Reports</h2>
          <p class="text-secondary-text mb-6">Review patient mood history, AI-generated insights, and chat sentiment.</p>
          
          <div id="accordion-container" class="space-y-6">
            <!-- Patient 1 -->
            <div class="accordion-item border border-rose-100 rounded-lg overflow-hidden">
              <button class="accordion-header w-full flex justify-between items-center p-4 bg-rose-50/50 hover:bg-rose-100/50 transition-colors">
                <div class="flex items-center space-x-4">
                  <div class="w-10 h-10 bg-accent-pink text-white rounded-full flex items-center justify-center font-bold">JD</div>
                  <div>
                    <p class="font-semibold text-primary-text text-left">skywalker_/</p>
                    <p class="text-sm text-secondary-text text-left">Last seen: 2024-07-25</p>
                  </div>
                </div>
                <svg class="accordion-arrow w-6 h-6 text-secondary-text transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
              </button>
              <div class="accordion-content">
                <div class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  <div class="lg:col-span-2 bg-white p-4 rounded-lg border border-rose-100">
                    <h3 class="font-semibold text-highlight-purple mb-2">Mood Summary (7 days)</h3>
                    <canvas id="moodChart1"></canvas>
                  </div>
                  <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg border border-rose-100">
                      <h3 class="font-semibold text-highlight-purple mb-2">Chat Sentiment</h3>
                      <span class="inline-block bg-gray-200 text-secondary-text text-xs font-medium px-2.5 py-0.5 rounded-full">neutral</span>
                    </div>
                    <div class="bg-white p-4 rounded-lg border border-rose-100">
                      <h3 class="font-semibold text-highlight-purple mb-2">Latest AI Insight</h3>
                      <p class="text-sm text-secondary-text">John's mood seems to improve after calm days. He often feels sad or anxious on weekdays but reported feeling happy on a weekend day.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Patient 2 -->
             <div class="accordion-item border border-rose-100 rounded-lg overflow-hidden">
              <button class="accordion-header w-full flex justify-between items-center p-4 bg-rose-50/50 hover:bg-rose-100/50 transition-colors">
                <div class="flex items-center space-x-4">
                  <div class="w-10 h-10 bg-ui-steel-blue text-white rounded-full flex items-center justify-center font-bold">CW</div>
                  <div>
                    <p class="font-semibold text-primary-text text-left">calmwave9832</p>
                    <p class="text-sm text-secondary-text text-left">Last seen: 2024-07-27</p>
                  </div>
                </div>
                <svg class="accordion-arrow w-6 h-6 text-secondary-text transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
              </button>
              <div class="accordion-content">
                <div class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  <div class="lg:col-span-2 bg-white p-4 rounded-lg border border-rose-100">
                    <h3 class="font-semibold text-highlight-purple mb-2">Mood Summary (7 days)</h3>
                    <canvas id="moodChart2"></canvas>
                  </div>
                   <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg border border-rose-100">
                      <h3 class="font-semibold text-highlight-purple mb-2">Chat Sentiment</h3>
                      <span class="inline-block bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">positive</span>
                    </div>
                    <div class="bg-white p-4 rounded-lg border border-rose-100">
                      <h3 class="font-semibold text-highlight-purple mb-2">Latest AI Insight</h3>
                      <p class="text-sm text-secondary-text">Ganesh has shown consistent improvement this week, with more positive sentiment in chats. Mood logs correlate with exercise completion.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Patient 3 -->
            <div class="accordion-item border border-rose-100 rounded-lg overflow-hidden">
              <button class="accordion-header w-full flex justify-between items-center p-4 bg-rose-50/50 hover:bg-rose-100/50 transition-colors">
                <div class="flex items-center space-x-4">
                  <div class="w-10 h-10 bg-highlight-violet text-white rounded-full flex items-center justify-center font-bold">SS</div>
                  <div>
                    <p class="font-semibold text-primary-text text-left">HopeFullness_321</p>
                    <p class="text-sm text-secondary-text text-left">Last seen: 2024-02-22</p>
                  </div>
                </div>
                <svg class="accordion-arrow w-6 h-6 text-secondary-text transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
              </button>
              <div class="accordion-content">
                <div class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  <div class="lg:col-span-2 bg-white p-4 rounded-lg border border-rose-100">
                    <h3 class="font-semibold text-highlight-purple mb-2">Mood Summary (7 days)</h3>
                    <canvas id="moodChart3"></canvas>
                  </div>
                   <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg border border-rose-100">
                      <h3 class="font-semibold text-highlight-purple mb-2">Chat Sentiment</h3>
                      <span class="inline-block bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Mixed</span>
                    </div>
                    <div class="bg-white p-4 rounded-lg border border-rose-100">
                      <h3 class="font-semibold text-highlight-purple mb-2">Latest AI Insight</h3>
                      <p class="text-sm text-secondary-text">Sameer's sentiment is often mixed, showing signs of progress but also occasional setbacks. He responds well to goal-setting prompts.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Upcoming Appointments Section (hidden by default) -->
        <div id="content-appointments" class="hidden">
           <h2 class="text-2xl font-bold text-highlight-purple mb-2">Upcoming Appointments</h2>
           <p class="text-secondary-text mb-6">A list of scheduled sessions with patients.</p>
           <div class="space-y-4">
              <div class="bg-rose-50/50 p-4 rounded-lg flex justify-between items-center">
                  <div>
                      <p class="font-semibold text-primary-text">moon_happy</p>
                      <p class="text-sm text-secondary-text">September 15, 2025 - 11:00 AM</p>
                  </div>
                  <a href="#" class="text-sm font-medium text-accent-rose hover:underline">View Details</a>
              </div>
              <div class="bg-rose-50/50 p-4 rounded-lg flex justify-between items-center">
                  <div>
                      <p class="font-semibold text-primary-text">SunShine</p>
                      <p class="text-sm text-secondary-text">September 16, 2025 - 2:30 PM</p>
                  </div>
                  <a href="#" class="text-sm font-medium text-accent-rose hover:underline">View Details</a>
              </div>
           </div>
        </div>

      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const tabs = {
            appointments: document.getElementById('tab-appointments'),
            reports: document.getElementById('tab-reports'),
        };
        const content = {
            appointments: document.getElementById('content-appointments'),
            reports: document.getElementById('content-reports'),
        };

        function switchTab(activeTab) {
            Object.keys(tabs).forEach(key => {
                const tab = tabs[key];
                const cont = content[key];
                if (key === activeTab) {
                    tab.classList.remove('tab-inactive');
                    tab.classList.add('tab-active');
                    cont.classList.remove('hidden');
                } else {
                    tab.classList.remove('tab-active');
                    tab.classList.add('tab-inactive');
                    cont.classList.add('hidden');
                }
            });
        }
        
        tabs.appointments.addEventListener('click', () => switchTab('appointments'));
        tabs.reports.addEventListener('click', () => switchTab('reports'));

        // Accordion logic
        const accordionItems = document.querySelectorAll('.accordion-item');
        accordionItems.forEach(item => {
            const header = item.querySelector('.accordion-header');
            header.addEventListener('click', () => {
                const wasOpen = item.classList.contains('accordion-open');
                // Close all accordions
                accordionItems.forEach(i => i.classList.remove('accordion-open'));
                // If it wasn't open, open it
                if (!wasOpen) {
                    item.classList.add('accordion-open');
                }
            });
        });
        
        // Chart.js instances
        const createMoodChart = (ctx, data) => {
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['21', '22', '23', '24', '25', '26', '27'],
                    datasets: [{
                        label: 'Mood Level',
                        data: data,
                        backgroundColor: '#e5a4a9',
                        borderColor: '#e69299',
                        borderWidth: 1,
                        borderRadius: 4,
                        barPercentage: 0.6,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 5,
                            ticks: { display: false },
                            grid: { display: false },
                            border: { display: false }
                        },
                        x: {
                           grid: { display: false },
                           border: { display: false },
                           ticks: { color: '#7975a5' }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            enabled: true,
                            backgroundColor: '#202048',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                        }
                    }
                }
            });
        };
        
        const ctx1 = document.getElementById('moodChart1').getContext('2d');
        createMoodChart(ctx1, [2, 2.5, 3, 4.5, 1, 2.5, 3.5]);

        const ctx2 = document.getElementById('moodChart2').getContext('2d');
        createMoodChart(ctx2, [3, 3.5, 3.8, 4, 4.2, 4.5, 4.8]);

        const ctx3 = document.getElementById('moodChart3')?.getContext('2d');
        if (ctx3) {
            createMoodChart(ctx3, [3, 2, 2.5, 3, 3.5, 4, 3.8]);
        }

      });
    </script>
  </body>
</html>

